<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>4. SCRIPTING - Serveis en Xarxa CFGM</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "4. SCRIPTING";
        var mkdocs_page_input_path = "u4-Scripting.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Serveis en Xarxa CFGM
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">SERVEIS EN XARXA CFGM</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../u1-conceptes-xarxes/">1. CONCEPTES SOBRE XARXES</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../exercicis-ipv4/">1.1. Exercicis ipv4</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../u2-servei-ftp/">2. SERVEI FTP</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../preguntes-test/">2.1 Preguntes exemple</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../u2-ftp-vsftpd/">2.2 Instal.lació vsFTPd</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../u2-test-preguntes/">2.3 Preguntes test</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../u3-servei-http/">3. SERVEI HTTP</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">4. SCRIPTING</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#que-es-un-script">Què és un script?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#primer-script-echo-hello-world">Primer script. echo "Hello world".</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#variables">Variables</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#exercicis">Exercicis:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#condicionals-if">Condicionals if</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#iteracions">Iteracions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#funcions-de-programa">Funcions de programa</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../errors-comuns/">Errors Comuns Apache</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../provaVue/">(provaVue)</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Serveis en Xarxa CFGM</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">4. SCRIPTING</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="unitat-4-scripts">UNITAT 4. SCRIPTS</h1>
<p>| Els scripts Són documents que contenen un guió d'execució d'instruccions. En aquest tema feim una aproximació als scripts del shell. Durant el tema farem pràctiques que volen ser útils per un administrador de sistemes o developer. |</p>
<p>Els scripts solen contenir tasques repetitives com per exemple realitzar còpies de seguretat, creació d'usuaris, obertura de sessions, ... </p>
<p>Com la majoria de llenguatges de programació els scripts també tenen variables, funcions, estructures de control, execucions d'entrada i sortida, estructures de dades, ... </p>
<p>Per entendre el seu funcionament ho farem amb una sèrie d'exercicis bàsics, per tant ens disposam a començar. </p>
<h2 id="que-es-un-script">Què és un script?</h2>
<p>Un <strong>script</strong>: </p>
<ul>
<li>És un document de texte i té l'extensió <code>.sh</code></li>
<li>Si volem que s'excuti ha de tenir els permisos d'execució.</li>
<li>Per executar un script es fa amb l'instrucció <code>./nom-script</code></li>
</ul>
<p>Per fer els exercicis cream una carpeta "scripts" al directori home del nostre usuari.</p>
<h2 id="primer-script-echo-hello-world">Primer script. echo "Hello world".</h2>
<p>Feim un document "primerscript.sh" de texte i el seu contingut ha de ser </p>
<p>|<code>#!/bin/sh # This is a comment!
echo Hello World        # This is a comment, too!</code>|</p>
<p>Per executar l'script hem de donar permisos d'execució a l'arxiu, l'instrucció </p>
<p>| sudo chmod 755 primerscript.sh |</p>
<p><code>$ echo '#!/bin/sh' &gt; my-script.sh
$ echo 'echo Hello World' &gt;&gt; my-script.sh
$ chmod 755 my-script.sh
$ ./my-script.sh
Hello World
$</code></p>
<h2 id="variables">Variables</h2>
<p>Una variable és un contenidor de valors amb un nom. Aquest contenidor varia durant l'execució del programa. </p>
<p>Observa el dibuix de programa durant l'execució dins el computador.</p>
<p>Observam a la pàgina <a href="https://pythontutor.com/visualize.html#mode=edit">pythonTutor</a> la execució i gestió de variables dins memòria.</p>
<h2 id="exercicis">Exercicis:</h2>
<p>A cada un dels scritps has de posar el teu nom i la data com a comentari. Per fer els exercicis pots consultar el <a href="https://www.shellscript.sh/variables1.html">tutorial de consulta sobre variables</a>.</p>
<ol>
<li>Fer un script que escrigui "Hello World".</li>
<li>Fer un script "sumados.sh" que sumi dos nombres passats per paràmetre.</li>
<li>Un script com l'anterior que ens retorni la suma, la resta i la multiplicació de dos nombres passats per paràmetre.</li>
<li>Un script que faci les operacions anteriors (suma,resta, multiplicació) però que ens 
demani els operands per terminal. </li>
<li>Fes un script que demani el nom d'un usuari i que mostri per pantalla la seva unitat home.</li>
<li>Fes un script que demani el nom d'un usuari i que mostri per pantalla la mida dels arxius del seu home.</li>
<li>Posa tots els exercici anteriors com a exercici1.sh, exercici2.sh, ...</li>
</ol>
<h2 id="condicionals-if">Condicionals if</h2>
<p><code>if (⟨Condició⟩) {
    ⟨Instruccions_SÍ⟩
} else {
    ⟨Instruccions_NO⟩
}</code></p>
<p>El funcionament és senzill: Si es compleix la ⟨Condició⟩, s'executa el bloc d'⟨Instruccions_SÍ⟩; altrament, s'executa el bloc d'⟨Instruccions_NO⟩.</p>
<p>Aquesta instrucció és útil alhora de controlar límits, comprovar passwords, crear camins de programa, etc.</p>
<p><a href="https://www.shellscript.sh/">tutorial</a></p>
<h2 id="iteracions">Iteracions</h2>
<h2 id="funcions-de-programa">Funcions de programa</h2>
<p>Les funcions són parts de codi que realitzen una tasca concreta. L'ús de funcions ajuda al programador a 
controlar el codi del programa d'una manera més eficient.</p>
<p>Una funció té varies parts:</p>
<pre><code>- Nom de la funció. Única dins la seva part de programa, identifica la tasca de la funció.
- Paràmetres d'entrada. Variables que es poden donar a la funció.
- Instruccions de la funció.
- Paràmetres de Sortida.
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../u3-servei-http/" class="btn btn-neutral float-left" title="3. SERVEI HTTP"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../errors-comuns/" class="btn btn-neutral float-right" title="Errors Comuns Apache">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../u3-servei-http/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../errors-comuns/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
